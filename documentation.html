<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <title>Hoboken</title>
    <link href="stylesheets/normalize-6197e73d.css" rel="stylesheet" type="text/css" /><link href="stylesheets/all-1a075910.css" rel="stylesheet" type="text/css" />
    <script src="javascripts/all-da39a3ee.js" type="text/javascript"></script>
  </head>

  <body>
    <div class="wrapper">
      <div class="content">
        <h1>Hoboken</h1>
        <img src="images/hoboken-acb13891.png" />
        <section>
  <h2 id="basic-features">Basic Features</h2>
  <p>All projects generated with Hoboken have the following common features:</p>
  <ul class="features">
    <li>includes a <code>Rakefile</code> with tasks for starting the development server and running tests</li>
    <li>uses <a href="http://rubygems.org/gems/thin">Thin</a> as the default web server</li>
    <li>the <a href="http://rubygems.org/gems/contest">contest</a> gem for testing support</li>
    <li><a href="http://rubygems.org/gems/rack_csrf">Rack::Csrf</a> is turned on by default</li>
    <li>environment variable support via the <a href="http://rubygems.org/gems/dotenv">dotenv</a> gem</li>
    <li><a href="http://rubygems.org/gems/sinatra-reloader">Sinatra reloader</a> is enabled for the development environment</li>
    <li>custom Rack::Test <a href="https://github.com/bnadlerjr/hoboken/blob/master/lib/hoboken/templates/test/support/rack_test_assertions.rb.tt">assertions</a></li>
    <li>a <a href="https://github.com/bnadlerjr/hoboken/blob/master/lib/hoboken/templates/test/test_helper.rb.tt">base class</a> helper for Rack based tests</li>
  </ul>

  <h2 id="project-structure">Project Structure</h2>
  <p>Projects are generated with the following structure:</p>
  <table>
    <tr>
      <td>Gemfile</td>
      <th>Your app's dependencies</th>
    </tr>
    <tr>
      <td>README.md</td>
      <th>A sample README</th>
    </tr>
    <tr>
      <td>Rakefile</td>
      <th>Basic app tasks</th>
    </tr>
    <tr>
      <td>app.rb</td>
      <th>The main application file</th>
    </tr>
    <tr>
      <td>config.ru</td>
      <th>Rackup file</th>
    </tr>
    <tr>
      <td>/helpers</td>
      <th>Any helper files</th>
    </tr>
    <tr>
      <td>/public</td>
      <th>Static assets (i.e. css, js, images)</th>
    </tr>
    <tr>
      <td>/test</td>
      <th>Basic unit test and test helper support</th>
    </tr>
    <tr>
      <td>/views</td>
      <th>Your app's views (not present if --tiny option was used)</th>
    </tr>
  </table>
  <p>The <code>app.rb</code> file contains the main Sinatra application. If the <code>--modular</code> option is used, the application will inherit from Sinatra::Base. Refer to the Sinatra documentation on <a href="http://www.sinatrarb.com/intro.html#Modular%20vs.%20Classic%20Style">classic vs. modular</a> applications for more information.</p>

  <h2 id="general-command-reference">General Command Reference</h2>

  <h3 id="generate">generate</h3>
  <p>Generate a new Sinatra app</p>
  <p><pre class="command">$ hoboken generate [APP_NAME]</pre></p>
  <h4>Options</h4>
  <dl>
    <dt><pre>[--ruby-version=RUBY_VERSION]</pre></dt>
    <dd>Specify a Ruby version for the Gemfile. By default it will use the currently installed version.</dd>
    <dt><pre>[--tiny], [--no-tiny]</pre></dt>
    <dd>Generate views inline; do not create /public folder</dd>
    <dt><pre>[--type=TYPE]</pre></dt>
    <dd>Architecture type (classic or modular). Default is classic.</dd>
    <dt><pre>[--git], [--no-git]</pre></dt>
    <dd>Create a Git repository and make initial commit</dd>
  </dl>

  <h4>Rake Tasks</h4>
  <p>By default all newly generated projects will have the following Rake tasks available.</p>
  <dl>
    <dt><pre class="command">$ rake server</pre></dt>
    <dd>Start the development server</dd>
    <dt><pre class="command">$ rake test:all</pre></dt>
    <dd>Run all tests</dd>
    <dt><pre class="command">$ rake test:integration</pre></dt>
    <dd>Run tests for integration</dd>
    <dt><pre class="command">$ rake test:unit</pre></dt>
    <dd>Run tests for unit</dd>
  </dl>

  <hr />

  <h3 id="help">help</h3>
  <p>Describe available commands. If COMMAND is given, describe the specific COMMAND.</p>
  <p><pre class="command">$ hoboken help [COMMAND]</pre></p>

  <hr />

  <h3 id="version">version</h3>
  <p>Print version and quit.</p>
  <p><pre class="command">$ hoboken version</pre></p>

  <hr />

  <h2 id="add-on-command-reference">Add On Command Reference</h2>

  <h3 id="heroku">Heroku</h3>
  <p>Heroku deployment support.</p>
  <p><pre class="command">$ hoboken add:heroku</pre></p>
  <p>Adds <a href="http://rubygems.org/gems/foreman">foreman</a> to the project's dependencies and updates the <code>rake server</code> task to use it. It also creates a <code>Procfile</code> so that Heroku can start your application. A <code>.slugignore</code> file is also created.</p>

  <hr />

  <h3 id="internationalization">Internationalization</h3>
  <p>Internationalization support using sinatra-r18n.</p>
  <p><pre class="command">$ hoboken add:i18n</pre></p>
  <p>Adds the <a href="http://rubygems.org/gems/sinatra-r18n">sinatra-r18n gem</a> to the project's dependencies and creates an <code>i18n</code> folder with a sample translation file.</p>

  <hr />

  <h3 id="metrics">Metrics</h3>
  <p>Adds metrics utilities to project (flog, flay, simplecov).</p>
  <p><pre class="command">$ hoboken add:metrics</pre></p>
  <p>Adds <a href="http://rubygems.org/gems/flog">flog</a>, <a href="http://rubygems.org/gems/flay">flay</a>, and <a href="http://rubygems.org/gems/simplecov">simplecov</a> to the project dependencies. Adds two rake tasks for running flog and flay. Modifies the test rake tasks to run with simplecov. The coverage report is generated in the <code>tmp/coverage</code> folder.</p>

  <hr />

  <h3 id="omniauth">Omniauth</h3>
  <p>Authentication capability via the <a href="http://rubygems.org/gems/omniauth">Omniauth</a> gem.</p>
  <p><pre class="command">$ hoboken add:omniauth</pre></p>
  <p>Running this command will prompt you to select an Omniauth provider and version. It will stub out 3 new handlers for Omniauth in <code>app.rb</code>. In addition, it will create unit tests for the stubbed out handlers.</p>

  <hr />

  <h3 id="sequel">Sequel</h3>
  <p>Provides database support via the <a href="http://rubygems.org/gems/sequel">Sequel</a> gem.</p>
  <p><pre class="command">$ hoboken add:sequel</pre></p>
  <p>Adds the Sequel gem as a dependency. Also adds the sqlite3 gem for dev and test environments. You will need to specify your own database provider for production. Access to the database is handled via <code>DATABASE_URL</code> which either needs to be exported as an environment variable or added to the project's <code>.env</code> file. The <code>config.ru</code> is adjusted to set up the database. The <a href="http://www.sinatrarb.com/configuration.html">settings feature</a> of Sinatra is used to create a database setting that can be used within the application.<p>
  <p>A <code>db/migrate</code> folder is created for <a href="http://sequel.jeremyevans.net/rdoc/files/doc/migration_rdoc.html">migrations</a>. Two rake tasks for migrations are also created:</p>
  <dl>
    <dt><pre class="command">$ rake db:migrate</pre></dt>
    <dd>Migrate the database to the latest version.</dd>
    <dt><pre class="command">$ rake db:reset</pre></dt>
    <dd>Perform migration reset (full erase and migration up).</dd>
  </dl>
  <p>The project's <code>test_helper.rb</code> is adjusted to include a helper class for unit tests that touch the database. When a unit test class inherits from this, it will set up an in memory database and apply any migrations. Each test is run in the context of a transaction that will be rolled back after each test is run.<p>

  <hr />

  <h3 id="sprockets">Sprockets</h3>
  <p>Add <a href="http://rubygems.org/gems/sprockets">Sprockets</a> support to the project.</p>
  <p><pre class="command">$ hoboken add:sprockets</pre></p>
  <p>Sets up an <code>/assets</code> folder and a <code>assets:precompile</code> Rake task. Adjusts <code>app.rb</code> to include the Sprockets middleware extension for serving assets in development. For production, assets should be precompiled using the Rake task.</p>
  <p><strong>Important Note:</strong> Any css or js files from the <code>/public</code> folder have been copied to <code>/assets</code>, the original files remain intact in <code>/public</code>, but will be replaced the first time you run <code>rake assets:precompile</code>.  You may want to backup those files if they are not under source control before running the Rake command.</p>

  <hr />

  <h3 id="travis-ci">Travis CI</h3>
  <p>Basic Travis-CI YAML config.</p>
  <p><pre class="command">$ hoboken add:travis</pre></p>
  <p>Sets up a minimal <code>.travis.yml</code> file.</p>
</section>


      </div>
      <div class="sidebar">
        <aside>
          <h4>What would you like to do?</h4>
          <ul>
            <li><a href="./">Get started</a></li>
            <li><a href="https://github.com/bnadlerjr/hoboken/issues">Report a bug</a></li>
            <li><a href="documentation.html">Read documentation</a></li>
            <li><a href="https://github.com/bnadlerjr/hoboken">View source code</a></li>
          </ul>
        </aside>
        <aside>
  <h4>On This Page</h4>
  <ul>
    <li>
      <a href="documentation.html#basic-features">Basic Features</a>
    </li>
    <li>
      <a href="documentation.html#project-structure">Project Structure</a>
    </li>
    <li>
      <a href="documentation.html#general-command-reference">General Commands</a>
      <ul>
        <li><a href="#generate">generate</a></li>
        <li><a href="#help">help</a></li>
        <li><a href="#version">version</a></li>
      </ul>
    </li>
    <li>
      <a href="documentation.html#add-on-command-reference">Add On Commands</a>
      <ul>
        <li><a href="#heroku">heroku</a></li>
        <li><a href="#internationalization">internationalization</a></li>
        <li><a href="#metrics">metrics</a></li>
        <li><a href="#omniauth">omniauth</a></li>
        <li><a href="#sequel">sequel</a></li>
        <li><a href="#sprockets">sprockets</a></li>
        <li><a href="#travis-ci">travis ci</a></li>
      </ul>
    </li>
  </ul>
</aside>

      </div>
      <footer>
        <hr />
        <small>
        <a href="https://github.com/bnadlerjr/hoboken">Hoboken<a/>, a project generator for the Ruby <a href="http://www.sinatrarb.com/">Sinatra</a> library, written by <a href="http://bobnadler.com">Bob Nadler</a>.
        </small>
      </footer>
    </div>
  </body>
</html>
